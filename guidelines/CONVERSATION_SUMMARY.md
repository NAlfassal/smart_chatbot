# ๐ ููุฎุต ุดุงูู ูููุญุงุฏุซุฉ - SFDA Agent

**ุงูุชุงุฑูุฎ**: 2026-01-30
**ุงูููุถูุน**: ุจูุงุก Agent ุฐูู ููุจุญุซ ูู ูููุน ุงูููุฆุฉ ุงูุนุงูุฉ ููุบุฐุงุก ูุงูุฏูุงุก ุงูุณุนูุฏูุฉ

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช

1. [ูุง ุชู ุฅูุฌุงุฒู](#ูุง-ุชู-ุฅูุฌุงุฒู)
2. [ุงููููุงุช ุงููููุดุฃุฉ](#ุงููููุงุช-ุงูููุดุฃุฉ)
3. [ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ](#ุงูุชูููุงุช-ุงููุณุชุฎุฏูุฉ)
4. [ููููุฉ ุงูุชุดุบูู](#ููููุฉ-ุงูุชุดุบูู)
5. [ุงูุฎุทูุงุช ุงูุชุงููุฉ](#ุงูุฎุทูุงุช-ุงูุชุงููุฉ)
6. [ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ](#ุงูุฃุณุฆูุฉ-ูุงูุฃุฌูุจุฉ)
7. [ููุงุท ูููุฉ ูููุณุชูุจู](#ููุงุท-ูููุฉ-ูููุณุชูุจู)

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### ุงููุทููุจ ุงูุฃุณุงุณู:
> ุจูุงุก Agent ุจุงุณุชุฎุฏุงู ุชูุซูู LangChain ุงูุญุฏูุซ (2026) ููุจุญุซ ูู ูููุน SFDA ุนู ุงูุฃุฏููุฉ ุงููุณุฌูุฉ

### ูุง ุชู ุชุณูููู:

1. โ **Agent ูุงูู ุจุงุณุชุฎุฏุงู LangGraph StateGraph**
   - ุงุณุชุฎุฏุงู StateGraph (ุฃุญุฏุซ ุชูููุฉ ูู LangChain 2026)
   - MemorySaver ููุฐุงูุฑุฉ ุงูุชููุงุฆูุฉ
   - Custom Tools ููุจุญุซ ูู SFDA
   - ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ

2. โ **ุชูุซูู ูุงูู ุจุงูุนุฑุจูุฉ**
   - ุดุฑุญ ุชูุตููู ููู ุฌุฒุก
   - ุฃูุซูุฉ ุนูููุฉ
   - ุฏููู ุงุณุชุฎุฏุงู ุฎุทูุฉ ุจุฎุทูุฉ

3. โ **ูููุงุช ุฌุงูุฒุฉ ููุชุดุบูู**
   - ุณูุฑูุจุชุงุช ุชุซุจูุช ุชููุงุฆูุฉ
   - ูุณุฎุฉ ุชูุงุนููุฉ ููุงุฎุชุจุงุฑ
   - ุฃูุซูุฉ ุชูุถูุญูุฉ

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ

### ุงููููุงุช ุงูุฑุฆูุณูุฉ:

| ุงูููู | ุงููุตู | ุงูุญุงูุฉ |
|------|--------|--------|
| **latest_agent.py** | ุงูู Agent ุงูุฑุฆูุณู ูุน StateGraph + MemorySaver | โ ุฌุงูุฒ |
| **test_agent.py** | ูุณุฎุฉ ุชูุงุนููุฉ ูููุญุงุฏุซุฉ ุงููุจุงุดุฑุฉ | โ ุฌุงูุฒ |
| **agent_requirements.txt** | ุงูููุชุจุงุช ุงููุทููุจุฉ | โ ุฌุงูุฒ |
| **setup_and_run.bat** | ุณูุฑูุจุช ุชุซุจูุช ูุชุดุบูู ุชููุงุฆู | โ ุฌุงูุฒ |
| **.env.example** | ูุงูุจ ูุฅุนุฏุงุฏ API keys | โ ุฌุงูุฒ |

### ูููุงุช ุงูุชูุซูู:

| ุงูููู | ุงููุตู |
|------|--------|
| **AGENT_README.md** | ุชูุซูู ุดุงูู ููู Agent |
| **QUICKSTART.md** | ุฏููู ุงูุจุฏุก ุงูุณุฑูุน |
| **RUN_AGENT.md** | ุฎุทูุงุช ุงูุชุดุบูู |
| **PROJECT_SUMMARY.md** | ููุฎุต ุงููุดุฑูุน ูุงูุชูููุงุช |
| **VISUAL_EXPLANATION.md** | ุดุฑุญ ูุฑุฆู ูู Playwright |
| **upgrade_to_playwright.md** | ุฏููู ุงูุชุฑููุฉ ููุจุญุซ ุงูุฏููุงูููู |

### ูููุงุช ุงูุฃูุซูุฉ:

| ุงูููู | ุงููุตู |
|------|--------|
| **example_httpx_limitation.py** | ูุซุงู ุนูู ูุญุฏูุฏูุฉ HTTPX |
| **example_playwright_solution.py** | ูุซุงู ุนูู ุญู Playwright |

---

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### ููุงุฐุง ูุฐู ุงูุชูููุงุช ุจุงูุฐุงุชุ

#### 1. **LangGraph StateGraph** (ุจุฏูุงู ูู Chains ุงูุจุณูุทุฉ)

**ุงูุณุจุจ:**
- โ ุชุญูู ูุงูู ูู workflow
- โ Conditional edges ูููุฑุงุฑุงุช ุงูุฐููุฉ
- โ ุฃุญุฏุซ best practices ูู LangChain 2026
- โ ุณูู ุงูุชูุณูุน ูุงูุชุทููุฑ

**ุงูููุฏ:**
```python
workflow = StateGraph(AgentState)
workflow.add_node("agent", agent_node)
workflow.add_node("tools", ToolNode(tools))
workflow.add_conditional_edges("agent", should_continue)
workflow.add_edge("tools", "agent")
```

#### 2. **MemorySaver** (ุจุฏูุงู ูู ููุงุนุฏ ุงูุจูุงูุงุช)

**ุงูุณุจุจ:**
- โ ูุฏูุฌ ูู LangGraph
- โ Thread-safe ุชููุงุฆูุงู
- โ ุจุณูุท ูุณุฑูุน
- โ ูุง ุญุงุฌุฉ ูุฅุนุฏุงุฏ ุฅุถุงูู

**ุงูููุฏ:**
```python
memory = MemorySaver()
app = workflow.compile(checkpointer=memory)
```

#### 3. **@tool decorator** (ุจุฏูุงู ูู BaseTool)

**ุงูุณุจุจ:**
- โ ุฃุจุณุท syntax
- โ ุชูุซูู ุชููุงุฆู ูู docstrings
- โ Type hints ููุฃูุงู

**ุงูููุฏ:**
```python
@tool
def search_sfda_drug(registration_number: str) -> str:
    """ุงูุจุญุซ ุนู ุฏูุงุก ูู ูููุน SFDA"""
    # Implementation
```

#### 4. **ChatAnthropic** (Claude)

**ุงูุณุจุจ:**
- โ Claude Sonnet 4.5 (ุฃุญุฏุซ ูููุฐุฌ)
- โ ุฏุนู ููุชุงุฒ ููุนุฑุจูุฉ
- โ Tool use ูุชูุฏู

---

## ๐ ููููุฉ ุงูุชุดุบูู

### ุงูุทุฑููุฉ ุงูุณุฑูุนุฉ (30 ุซุงููุฉ):

```bash
# 1. ุงูุชุซุจูุช
pip install langgraph langchain-anthropic beautifulsoup4 lxml python-dotenv httpx

# 2. ุฅุนุฏุงุฏ API Key
$env:ANTHROPIC_API_KEY="sk-ant-api03-xxxxx"  # PowerShell
# ุฃู
set ANTHROPIC_API_KEY=sk-ant-api03-xxxxx     # CMD

# 3. ุงูุชุดุบูู
python latest_agent.py
# ุฃู ุงูุชูุงุนูู:
python test_agent.py
```

### ุงูุทุฑููุฉ ุงูุชููุงุฆูุฉ:

```bash
# ููุท ุงุถุบุท ุฏุจู ูููู ุนูู:
setup_and_run.bat
```

### ุงูุทุฑููุฉ ุงููุฏููุฉ (ุฎุทูุฉ ุจุฎุทูุฉ):

ุฑุงุฌุน ููู [RUN_AGENT.md](RUN_AGENT.md)

---

## ๐ฎ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุงููุฑุญูุฉ ุงูุญุงููุฉ: โ ููุชููุฉ

Agent ูุนูู ูููููู:
- โ ุงููุญุงุฏุซุฉ ูุงูุฑุฏ ุนูู ุงูุฃุณุฆูุฉ
- โ ุฅุนุทุงุก ูุนูููุงุช ุนู ูููุน SFDA
- โ ุงูุชุญูู ูู ุชููุฑ ูููุน SFDA
- โ ุชุฐูุฑ ุงููุญุงุฏุซุงุช ุงูุณุงุจูุฉ

### ุงููุฑุญูุฉ ุงููุงุฏูุฉ: ุงูุจุญุซ ุงูุฏููุงูููู ุงููุงูู

**ุงููุทููุจ:** ุฅุถุงูุฉ Playwright ููุจุญุซ ุงููุนูู ูู ุงููููุน

**ุงูุฎุทูุงุช:**

1. **ุชุซุจูุช Playwright:**
   ```bash
   pip install playwright
   playwright install
   ```

2. **ูุญุต ูููุน SFDA:**
   - ุงูุชุญ https://www.sfda.gov.sa/ar/drugs-list
   - F12 ููู Developer Tools
   - ุณุฌู selectors ููุนูุงุตุฑ:
     - ุญูู ุฑูู ุงูุชุณุฌูู
     - ุฒุฑ ุงูุจุญุซ
     - ุฌุฏูู ุงููุชุงุฆุฌ

3. **ุชุนุฏูู ุงูููุฏ:**
   ุงุชุจุน ุงูุฏููู ูู [upgrade_to_playwright.md](upgrade_to_playwright.md)

4. **ุงูุงุฎุชุจุงุฑ:**
   ```bash
   python example_playwright_solution.py
   ```

### ุงููุฑุงุญู ุงููุณุชูุจููุฉ:

- ๐ ุฏุนู ุฃููุงุน ุงูุจุญุซ ุงููุชุนุฏุฏุฉ (ุงุณู ุชุฌุงุฑูุ ุนูููุ ุดุฑูุฉ)
- ๐ ุฏุนู ูุฆุงุช ุงูุฃุฏููุฉ (ุจุดุฑูุฉุ ุจูุทุฑูุฉุ ุนุดุจูุฉ)
- ๐ ุชุตุฏูุฑ ุงููุชุงุฆุฌ (PDF, Excel)
- ๐ง ุฅุถุงูุฉ RAG ููุงุนุฏุฉ ูุนุฑููุฉ ุฏูุงุฆูุฉ

---

## โ ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ

### ุณ1: ููุงุฐุง ูุญุชุงุฌ Playwright/Seleniumุ

**ุฌ:** ูููุน SFDA ุฏููุงูููู (ูุณุชุฎุฏู JavaScript):

```
ุงููุดููุฉ:
   ุงูุตูุญุฉ ุชุจุฏุฃ ูุงุถูุฉ
        โ
   JavaScript ูููุฃูุง ุจุงููุญุชูู
        โ
   HTTPX ูุฑู ุงูุตูุญุฉ ุงููุงุถูุฉ ููุท โ

ุงูุญู:
   Playwright = ูุชุตูุญ ุญูููู
        โ
   ูุดุบู JavaScript
        โ
   ูุฑู ุงููุญุชูู ุงููุงูู โ
```

ุฑุงุฌุน [VISUAL_EXPLANATION.md](VISUAL_EXPLANATION.md) ููุดุฑุญ ุงูููุตู.

---

### ุณ2: ูู ูููู ุงุณุชุฎุฏุงู OpenAI ุจุฏูุงู ูู Anthropicุ

**ุฌ:** ูุนู! ููุท ุนุฏูู:

```python
# ุจุฏูุงู ูู:
from langchain_anthropic import ChatAnthropic
llm = ChatAnthropic(model="claude-3-5-sonnet-20241022")

# ุงุณุชุฎุฏู:
from langchain_openai import ChatOpenAI
llm = ChatOpenAI(model="gpt-4", api_key=os.getenv("OPENAI_API_KEY"))
```

---

### ุณ3: ููู ุฃุถูู ุฃุฏูุงุช ุฌุฏูุฏุฉุ

**ุฌ:** ุงุณุชุฎุฏู `@tool` decorator:

```python
@tool
def my_new_tool(param: str) -> str:
    """ูุตู ุงูุฃุฏุงุฉ"""
    # Implementation
    return result

# ุซู ุฃุถููุง ูููุงุฆูุฉ:
tools = [search_sfda_drug, get_sfda_website_info, my_new_tool]
```

---

### ุณ4: ููู ุฃุญูุธ ุงููุญุงุฏุซุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุชุ

**ุฌ:** ุงุณุชุจุฏู MemorySaver ุจู checkpointer ุขุฎุฑ:

```python
from langgraph.checkpoint.sqlite import SqliteSaver

# ุจุฏูุงู ูู:
memory = MemorySaver()

# ุงุณุชุฎุฏู:
memory = SqliteSaver("conversations.db")
```

---

## ๐ก ููุงุท ูููุฉ ูููุณุชูุจู

### 1. ุจููุฉ Agent

```python
AgentState (TypedDict)
    โ
StateGraph
    โ
Nodes: agent, tools
    โ
Conditional Edges (should_continue)
    โ
MemorySaver (checkpointer)
    โ
Compiled App
```

### 2. ุฏูุฑุฉ ุญูุงุฉ ุงูุฑุณุงูุฉ

```
User Input (HumanMessage)
    โ
Agent Node (LLM + Tools)
    โ
Decision: ุงุณุชุฎุฏู ุฃุฏุงุฉุ
    โ          โ
  ูุนู          ูุง
    โ           โ
Tools Node    END
    โ
Agent Node (ูุน ูุชุงุฆุฌ ุงูุฃุฏุงุฉ)
    โ
  END
```

### 3. ุงูุฐุงูุฑุฉ (Memory)

```python
# ูู thread_id ูู ุฐุงูุฑุฉ ูููุตูุฉ
config = {"configurable": {"thread_id": "user_123"}}

# ุงููุญุงุฏุซุฉ 1
app.invoke({"messages": [msg1]}, config)

# ุงููุญุงุฏุซุฉ 2 (ูุชุฐูุฑ msg1)
app.invoke({"messages": [msg2]}, config)
```

### 4. Custom Tools

```python
@tool
def tool_name(param: type) -> return_type:
    """
    Docstring - ุณูุธูุฑ ููู Agent

    Args:
        param: ูุตู ุงููุนุงูู

    Returns:
        ูุตู ุงููุฑุฌุน
    """
    try:
        # Implementation
        return result
    except Exception as e:
        return f"ุฎุทุฃ: {e}"
```

---

## ๐ ููุฎุต ุงููููุงุช ุญุณุจ ุงูุฃูููุฉ

### ููุชุดุบูู ุงูููุฑู:

1. โ **RUN_AGENT.md** - ุงุจุฏุฃ ูู ููุง
2. โ **setup_and_run.bat** - ุชุซุจูุช ูุชุดุบูู ุชููุงุฆู
3. โ **latest_agent.py** - ุงูููุฏ ุงูุฑุฆูุณู
4. โ **test_agent.py** - ูุณุฎุฉ ุชูุงุนููุฉ

### ููููู ูุงูุชุนูู:

1. ๐ **AGENT_README.md** - ุชูุซูู ุดุงูู
2. ๐ **PROJECT_SUMMARY.md** - ููุฎุต ุงูุชูููุงุช
3. ๐ **VISUAL_EXPLANATION.md** - ุดุฑุญ Playwright
4. ๐ **QUICKSTART.md** - ุฏููู ุณุฑูุน

### ููุชุทููุฑ ุงููุณุชูุจูู:

1. ๐ง **upgrade_to_playwright.md** - ุงูุจุญุซ ุงูุฏููุงูููู
2. ๐ง **example_playwright_solution.py** - ูุซุงู ูุงูู
3. ๐ง **example_httpx_limitation.py** - ููู ุงููุดููุฉ

---

## ๐ฏ ุฎุงุฑุทุฉ ุทุฑูู ุงููุดุฑูุน

### ุงููุฑุญูุฉ 1: โ ููุชููุฉ
- [x] ุจูุงุก Agent ุจุงุณุชุฎุฏุงู LangGraph
- [x] ุฅุถุงูุฉ MemorySaver
- [x] ุฅูุดุงุก Custom Tools
- [x] ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- [x] ุงูุชูุซูู ุงููุงูู

### ุงููุฑุญูุฉ 2: ๐ ููุฏ ุงูุชุทููุฑ
- [ ] ุชุซุจูุช Playwright
- [ ] ูุญุต ูููุน SFDA
- [ ] ุชุญุฏูุซ search_sfda_drug
- [ ] ุงุฎุชุจุงุฑ ุงูุจุญุซ ุงููุนูู

### ุงููุฑุญูุฉ 3: ๐ ูุฎุทุท
- [ ] ุฏุนู ุฃููุงุน ุงูุจุญุซ ุงููุชุนุฏุฏุฉ
- [ ] ุฏุนู ูุฆุงุช ุงูุฃุฏููุฉ
- [ ] ุชุตุฏูุฑ ุงููุชุงุฆุฌ
- [ ] ุฅุถุงูุฉ RAG

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

### ุงูุชูุซูู ุงูุฑุณูู:
- [LangChain](https://python.langchain.com/)
- [LangGraph](https://langchain-ai.github.io/langgraph/)
- [Anthropic API](https://docs.anthropic.com/)
- [Playwright](https://playwright.dev/python/)

### ูููุน SFDA:
- [ุงูุจุญุซ ุนู ุงูุฃุฏููุฉ](https://www.sfda.gov.sa/ar/drugs-list)
- [ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ](https://www.sfda.gov.sa/)

---

## ๐ ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

### 1. ุจุฏุงูุฉ ุณุฑูุนุฉ:
```bash
# ุงูุทุฑููุฉ ุงูุฃุณูู:
setup_and_run.bat
```

### 2. ุชุฌุฑุจุฉ ุชูุงุนููุฉ:
```bash
python test_agent.py
# ุซู ุงุจุฏุฃ ุงููุญุงุฏุซุฉ!
```

### 3. ูุญุต ุงูููุฏ:
ุงูุชุญ `latest_agent.py` ูุงูุฑุฃ ุงูุชุนูููุงุช

### 4. ุงูุชุทููุฑ:
ุงุชุจุน `upgrade_to_playwright.md` ุฎุทูุฉ ุจุฎุทูุฉ

---

## ๐ ูุง ุชุนููุชู ูู ูุฐุง ุงููุดุฑูุน

1. **LangGraph StateGraph** ุฃูุถู ูู Chains ูููุดุงุฑูุน ุงููุชูุฏูุฉ
2. **MemorySaver** ูุญู ูุดููุฉ ุงูุฐุงูุฑุฉ ุจุจุณุงุทุฉ
3. **@tool decorator** ุฃุณูู ุทุฑููุฉ ูุฅูุดุงุก ุฃุฏูุงุช
4. **Playwright** ุถุฑูุฑู ููููุงูุน ุงูุฏููุงููููุฉ
5. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก** ูููุฉ ุฌุฏุงู ูู ุงูุฅูุชุงุฌ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. โ Agent ูุนูู ุงูุขู ููููู ูุญุงุฏุซุชู
2. โ๏ธ ุงูุจุญุซ ุงููุนูู ูู SFDA ูุญุชุงุฌ Playwright
3. ๐ก ุงูููุฏ ุฌุงูุฒ ููุชูุณูุน ูุงูุชุทููุฑ
4. ๐ ุงูุชูุซูู ุดุงูู ูููุตู ุจุงูุนุฑุจูุฉ
5. ๐ฏ ุงููุดุฑูุน ูุชุจุน ุฃุญุฏุซ best practices 2026

---

## โ Checklist ููุจุฏุก

- [ ] ูุฑุฃุช RUN_AGENT.md
- [ ] ุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ
- [ ] ุฃุนุฏุฏุช ANTHROPIC_API_KEY
- [ ] ุดุบููุช latest_agent.py ุฃู test_agent.py
- [ ] ุฌุฑุจุช ุงููุญุงุฏุซุฉ ูุน Agent
- [ ] (ุงุฎุชูุงุฑู) ูุฑุฃุช AGENT_README.md ููููู ุงูุนููู
- [ ] (ูุณุชูุจูู) ุฑุงุฌุนุช upgrade_to_playwright.md

---

**ุชุงุฑูุฎ ุฅูุดุงุก ูุฐุง ุงูููู:** 2026-01-30
**ุขุฎุฑ ุชุญุฏูุซ:** 2026-01-30
**ุงูุฅุตุฏุงุฑ:** 1.0

---

## ๐ ุฎุงุชูุฉ

ุชู ุจูุงุก Agent ุฐูู ูุงูู ุจุงุณุชุฎุฏุงู:
- โ ุฃุญุฏุซ ุชูููุงุช LangChain 2026
- โ StateGraph ูู LangGraph
- โ MemorySaver ููุฐุงูุฑุฉ
- โ Custom Tools
- โ ุชูุซูู ุดุงูู ุจุงูุนุฑุจูุฉ

**Agent ุฌุงูุฒ ููุชุดุบูู ูุงูุชุทููุฑ!** ๐

---

**ููุฑุฌูุน ููุฐู ุงููุญุงุฏุซุฉ:**
- ุงุญุชูุธ ุจูุฐุง ุงูููู: `CONVERSATION_SUMMARY.md`
- ุฌููุน ุงููููุงุช ูู: `d:\last_update\`
- ุงุจุฏุฃ ูู: `RUN_AGENT.md`
